<!DOCTYPE html>

<html lang="es">
<head>
	<title>
		Formulario
	</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="css/estilo_1.css">

	<script type="text/javascript" languaje="javascript">
		
		function True_or_false(day,month,year)
		{
			var dteDate;
			month = month-1;
			dteDate = new Date(year,month,day);
			return ((day = dteDate.getDate()) && (month = dteDate.getMonth()) && (year = dteDate.getFullYear()));
		}

		function validar_fech(fecha)
		{
			var patron = new RegExp("^(15|16|17|18|19|20)+([0-9]{2})([-])([0-9]{1,2})([-])([0-9]{1,2})$");
			if(fecha.search(patron) == 0)
			{
				var valores = fecha.split("-");
				if(True_or_false(valores[2],valores[1],valores[0]))
				{
					return true;
				}
				
			}else{
				return false;
			}
			
			
		}

		function calcularEdad()
		{
			var fecha = document.getElementById("ingreso_user").value;
			if(validar_fech(fecha) == true)
			{
				var valores = fecha.split("-");
				var dia = valores[2];
				var mes = valores[1];
				var ano = valores[0];
				var fecha_hoy = new Date();
				var ahora_ano = fecha_hoy.getYear()+1;
				var ahora_mes = fecha_hoy.getMonth()+1;
				var ahora_dia = fecha_hoy.getDate();

				var edad = (ahora_ano + 1900) - ano;
				if (ahora_mes<mes)
				{
					edad--;
				}
				if ((mes == ahora_mes) && (ahora_dia<dia));
				{
					edad--;
				}
				if (edad > 1900)
				{
					edad -= 1900;
				}
				var meses = 0;
				if(ahora_mes>mes)
					meses = ahora_mes-mes;
				if(ahora_mes<mes)
					meses=12-(mes-ahora_mes);
				if(ahora_mes == mes && dia>ahora_dia)
					meses = 11;

				var dias = 0;
				if(ahora_dia>dia)
					dias = ahora_dia-dia;
				if(ahora_dia<dia)
				{
					ultimoDiaMes = new Date(ahora_ano, ahora_mes, 0);
					dias = ultimoDiaMes.getDate()-(dia-ahora_dia);
				}

				document.getElementById("result").innerHTML="Tienes "+edad+" años, "+meses+" meses y "+dias+" dias";

			}else{
				document.getElementById("result").innerHTML="La fecha "+fecha+" es incorrecta";
			}
		}

		function Mostrar(form) {
			var valores = [];
			var Depor = form.Deportes;

			for (var i=0, iLen=Depor.length; i<iLen; i++)
			{
				if(Depor[i].checked)
				{
					valores.push(Depor[i].value);
				}
			}

			alert (	'Tu nombre es: '+formulario.nombre.value+'\n'+
					'Tu apellido es: '+formulario.Apellido.value+'\n'+
					'Su '+formulario.tip_doc1.value+' es: '+formulario.identi.value+'\n'+
					'Su fecha de nacimiento es '+formulario.ingreso_user.value+ '(YYYY/MM/DD)'+'\n'+
					'Su direccion es: '+formulario.dire.value+'\n'+
					'Su email es: '+formulario.email.value+'\n'+
					'Su numero de celular es: '+formulario.cel.value+'\n'+
					'Deportes: '+valores.join(', '));
		}
		
	</script>
</head>
<body>
	<div class="Fondo">
		<center>
			<h1>
			Favor responder.
			</h1>
		</center>

		<form target="_blank" name="formulario" id="formulario">
			<fieldset class="FieldsetForm">
				<legend>Datos personales</legend>
				<center>
					<div class="estilos">
						<div align="left">
							Nombre 			<input type="text" name="nombre"><br><br>
							Apellido 		<input type="text" name="Apellido"><br><br>
							Tipo documento: <br>
										 	<input type="radio" name="tip_doc1" value="cedula">Cedula de ciudadania<br>
										 	<input type="radio" name="tip_doc2" value="tarjeta">Tarjeta de identidad"<br>
										 	<input type="radio" name="tip_doc3" value="registro">Registro civil<br><br>
							Identificación 	<input type="text" name="identi"><br><br>
							Edad 			<input type="date" name="ingreso_user" id="ingreso_user" />
											<input type="button" value="Calcular edad" onclick="javascript:calcularEdad();" />

							<div id="result"></div><div id="result2"></div>
							<br><br>
							Direccion <input type="text" name="dire" value=""><br><br>
							Email <input type="text" name="email" value=""><br><br>
							No. celular <input type="text" name="cel"><br><br>
						</div>
					</div>
				</center>
				<center>
					<h2>DEPORTES</h2>
				</center>
				<br>
				<center>
					<table>
						<tr>
							<td><input type="checkbox" value="Futbol" name="Deportes">Futbol</td>
							<td><input type="checkbox" value="Basquetbol" name="Deportes">Basquetbol</td>
							<td><input type="checkbox" value="Tennis" name="Deportes">Tennis</td>
						</tr>
						<tr>
							<td><input type="checkbox" value="Patinaje" name="Deportes">Patinaje</td>
							<td><input type="checkbox" value="Pentatlon" name="Deportes">Pentatlon</td>
							<td><input type="checkbox" value="Natacion" name="Deportes">Natacion</td>
						</tr>
						<tr>
							<td><input type="checkbox" value="Boxeo" name="Deportes">Boxeo</td>
							<td><input type="checkbox" value="Ciclismo" name="Deportes">Ciclismo</td>
							<td><input type="checkbox" value="Tiro" name="Deportes">Tiro</td>
						</tr>
					</table>
				</center>
				<br>
				<br>
				<div class="boton"><input type="button" onclick="javascript:Mostrar(form);" value="Guardar"></div><br>
				<img src="" style="display:scroll; position:fixed; bottom:100px; right:100px;">
			</fieldset>
		</form>
	</div>
</body>